{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/js/main.js","assets/js/modules/core.js","assets/js/modules/events.js","assets/js/modules/logger.js","assets/js/modules/navigation.js","assets/js/theme.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","'use strict';\r\n\r\nimport { Core } from \"./modules/core.js\";\r\nimport { initNavigation } from \"./modules/navigation.js\";\r\nimport { Theme } from \"./theme.js\";\r\nimport { log } from \"./modules/logger.js\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  document.documentElement.classList.add(\"ready\");\r\n\r\n  log.info(\"Sistema iniciado\");\r\n\r\n  Core.init();\r\n  Theme.init();\r\n  initNavigation();\r\n\r\n  // ---------------------------------------------------------\r\n  // Função de scroll suave com easing\r\n  // ---------------------------------------------------------\r\n  const smoothScrollTo = (targetY, duration = 900) => {\r\n    const startY = window.scrollY;\r\n    const diff = targetY - startY;\r\n    let start;\r\n\r\n    const step = (timestamp) => {\r\n      if (!start) start = timestamp;\r\n      const time = timestamp - start;\r\n      const percent = Math.min(time / duration, 1);\r\n\r\n      // Ease-out cubic\r\n      const easing = 1 - Math.pow(1 - percent, 3);\r\n\r\n      window.scrollTo(0, startY + diff * easing);\r\n\r\n      if (time < duration) requestAnimationFrame(step);\r\n    };\r\n\r\n    requestAnimationFrame(step);\r\n  };\r\n\r\n  // ---------------------------------------------------------\r\n  // Smooth Reveal da section-home\r\n  // ---------------------------------------------------------\r\n  const exploreBtn = document.querySelector(\".hero_btn\");\r\n  const homeSection = document.querySelector(\"#home\");\r\n\r\n  if (exploreBtn && homeSection) {\r\n    exploreBtn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n\r\n      // Mostrar a secção\r\n      homeSection.classList.add(\"visible\");\r\n      exploreBtn.classList.add(\"hidden\");\r\n\r\n      // Scroll suave\r\n      const targetY = homeSection.getBoundingClientRect().top + window.scrollY;\r\n      smoothScrollTo(targetY, 2000);\r\n\r\n    });\r\n  }\r\n\r\n  log.info(\"Document ready for code injection\");\r\n});\r\n\r\n \r\n\r\n","import { log } from \"./logger.js\";\r\n\r\nexport const Core = {\r\n  frases: [\r\n    \"A mente que se abre a uma nova ideia jamais volta ao seu tamanho original.\",\r\n    \"O código é poesia.\",\r\n    \"Cada ritual técnico é um passo para a autonomia.\",\r\n    \"A arquitetura é o destino do software.\"\r\n  ],\r\n\r\n  getRandomFrase() {\r\n    const i = Math.floor(Math.random() * this.frases.length);\r\n    return this.frases[i];\r\n  },\r\n\r\n  init() {\r\n    const frase = this.getRandomFrase();\r\n    log.info(`Core initialized → ${frase}`);\r\n  }\r\n};\r\n\r\n","export const Events = {\r\n  events: {},\r\n\r\n  on(event, handler) {\r\n    if (!this.events[event]) this.events[event] = [];\r\n    this.events[event].push(handler);\r\n  },\r\n\r\n  emit(event, data) {\r\n    if (!this.events[event]) return;\r\n    this.events[event].forEach(handler => handler(data));\r\n  }\r\n};\r\n\r\n","// modules/logger.js\r\n\r\nfunction timestamp() {\r\n  return new Date().toLocaleTimeString(\"pt-PT\");\r\n}\r\n\r\nexport const log = {\r\n  info(msg) {\r\n    console.info(`[INFO ${timestamp()}] ${msg}`);\r\n  },\r\n\r\n  warn(msg) {\r\n    console.warn(`[WARN ${timestamp()}] ${msg}`);\r\n  },\r\n\r\n  error(msg) {\r\n    console.error(`[ERROR ${timestamp()}] ${msg}`);\r\n  },\r\n\r\n  debug(msg) {\r\n    if (window.env === \"development\") {\r\n      console.debug(`[DEBUG ${timestamp()}] ${msg}`);\r\n    }\r\n  }\r\n};\r\n","import { Theme } from \"../theme.js\";\r\nimport { log } from \"./logger.js\";\r\n\r\nexport function initNavigation() {\r\n  const menuBtn = document.querySelector(\".menu-btn\");\r\n  const nav = document.querySelector(\".menu-nav\");\r\n\r\n  if (!menuBtn || !nav) {\r\n    log.warn(\"NAV não encontrada no DOM\");\r\n    return;\r\n  }\r\n\r\n  // Hambúrguer\r\n  menuBtn.addEventListener(\"click\", () => {\r\n    nav.classList.toggle(\"open\");\r\n    menuBtn.classList.toggle(\"open\");\r\n  });\r\n\r\n  // Dropdown de temas\r\n  const themeLinks = document.querySelectorAll(\".dropdown-menu a\");\r\n\r\n  themeLinks.forEach(link => {\r\n    link.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      const theme = link.textContent.trim();\r\n      Theme.apply(theme);\r\n    });\r\n  });\r\n\r\n  log.info(\"NAV inicializada\");\r\n}\r\n","'use strict';\r\n\r\nimport { Events } from \"./modules/events.js\";\r\nimport { log } from \"./modules/logger.js\";\r\n\r\nexport const Theme = {\r\n  key: \"sk-theme\",\r\n\r\n  get() {\r\n    return localStorage.getItem(this.key) || \"dark\";\r\n  },\r\n\r\n  apply(theme) {\r\n    const themes = [\r\n      \"light-theme\", \"dark-theme\", \"solarized-theme\", \r\n      \"dracula-theme\", \"hydra-theme\", \"neon-theme\"\r\n    ];\r\n\r\n    document.documentElement.classList.remove(...themes);\r\n    document.documentElement.classList.add(`${theme}-theme`);\r\n    localStorage.setItem(this.key, theme);\r\n\r\n    const el = document.querySelector(\".hero_description--last\");\r\n    if (el) {\r\n      el.classList.remove(\"animate\");\r\n      void el.offsetWidth; // força reflow\r\n      el.classList.add(\"animate\");\r\n    }\r\n\r\n    Events.emit(\"themeChanged\", theme);\r\n    log.info(`Tema aplicado: ${theme}`);\r\n  },\r\n\r\n  init() {\r\n    const saved = this.get();\r\n    this.apply(saved);\r\n    log.info(\"Sistema de temas inicializado\");\r\n  }\r\n};\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvbWFpbi5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL2NvcmUuanMiLCJhc3NldHMvanMvbW9kdWxlcy9ldmVudHMuanMiLCJhc3NldHMvanMvbW9kdWxlcy9sb2dnZXIuanMiLCJhc3NldHMvanMvbW9kdWxlcy9uYXZpZ2F0aW9uLmpzIiwiYXNzZXRzL2pzL3RoZW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsWUFBWTs7QUFFWixJQUFBLEtBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxXQUFBLEdBQUEsT0FBQTtBQUNBLElBQUEsTUFBQSxHQUFBLE9BQUE7QUFDQSxJQUFBLE9BQUEsR0FBQSxPQUFBO0FBRUEsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLFlBQU07RUFDbEQsUUFBUSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQztFQUUvQyxXQUFHLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDO0VBRTVCLFVBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNYLFlBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNaLElBQUEsMEJBQWMsRUFBQyxDQUFDOztFQUVoQjtFQUNBO0VBQ0E7RUFDQSxJQUFNLGNBQWMsR0FBRyxTQUFqQixjQUFjLENBQUksT0FBTyxFQUFxQjtJQUFBLElBQW5CLFFBQVEsR0FBQSxTQUFBLENBQUEsTUFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLEdBQUEsU0FBQSxNQUFHLEdBQUc7SUFDN0MsSUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU87SUFDN0IsSUFBTSxJQUFJLEdBQUcsT0FBTyxHQUFHLE1BQU07SUFDN0IsSUFBSSxLQUFLO0lBRVQsSUFBTSxLQUFJLEdBQUcsU0FBUCxJQUFJLENBQUksU0FBUyxFQUFLO01BQzFCLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFH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dXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IHsgQ29yZSB9IGZyb20gXCIuL21vZHVsZXMvY29yZS5qc1wiO1xyXG5pbXBvcnQgeyBpbml0TmF2aWdhdGlvbiB9IGZyb20gXCIuL21vZHVsZXMvbmF2aWdhdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBUaGVtZSB9IGZyb20gXCIuL3RoZW1lLmpzXCI7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gXCIuL21vZHVsZXMvbG9nZ2VyLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJyZWFkeVwiKTtcclxuXHJcbiAgbG9nLmluZm8oXCJTaXN0ZW1hIGluaWNpYWRvXCIpO1xyXG5cclxuICBDb3JlLmluaXQoKTtcclxuICBUaGVtZS5pbml0KCk7XHJcbiAgaW5pdE5hdmlnYXRpb24oKTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gRnVuw6fDo28gZGUgc2Nyb2xsIHN1YXZlIGNvbSBlYXNpbmdcclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBjb25zdCBzbW9vdGhTY3JvbGxUbyA9ICh0YXJnZXRZLCBkdXJhdGlvbiA9IDkwMCkgPT4ge1xyXG4gICAgY29uc3Qgc3RhcnRZID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICBjb25zdCBkaWZmID0gdGFyZ2V0WSAtIHN0YXJ0WTtcclxuICAgIGxldCBzdGFydDtcclxuXHJcbiAgICBjb25zdCBzdGVwID0gKHRpbWVzdGFtcCkgPT4ge1xyXG4gICAgICBpZiAoIXN0YXJ0KSBzdGFydCA9IHRpbWVzdGFtcDtcclxuICAgICAgY29uc3QgdGltZSA9IHRpbWVzdGFtcCAtIHN0YXJ0O1xyXG4gICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5taW4odGltZSAvIGR1cmF0aW9uLCAxKTtcclxuXHJcbiAgICAgIC8vIEVhc2Utb3V0IGN1YmljXHJcbiAgICAgIGNvbnN0IGVhc2luZyA9IDEgLSBNYXRoLnBvdygxIC0gcGVyY2VudCwgMyk7XHJcblxyXG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc3RhcnRZICsgZGlmZiAqIGVhc2luZyk7XHJcblxyXG4gICAgICBpZiAodGltZSA8IGR1cmF0aW9uKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuICB9O1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBTbW9vdGggUmV2ZWFsIGRhIHNlY3Rpb24taG9tZVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGNvbnN0IGV4cGxvcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlcm9fYnRuXCIpO1xyXG4gIGNvbnN0IGhvbWVTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNob21lXCIpO1xyXG5cclxuICBpZiAoZXhwbG9yZUJ0biAmJiBob21lU2VjdGlvbikge1xyXG4gICAgZXhwbG9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgLy8gTW9zdHJhciBhIHNlY8Onw6NvXHJcbiAgICAgIGhvbWVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG4gICAgICBleHBsb3JlQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblxyXG4gICAgICAvLyBTY3JvbGwgc3VhdmVcclxuICAgICAgY29uc3QgdGFyZ2V0WSA9IGhvbWVTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgICBzbW9vdGhTY3JvbGxUbyh0YXJnZXRZLCAyMDAwKTtcclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGxvZy5pbmZvKFwiRG9jdW1lbnQgcmVhZHkgZm9yIGNvZGUgaW5qZWN0aW9uXCIpO1xyXG59KTtcclxuXHJcbiBcclxuXHJcbiIsImltcG9ydCB7IGxvZyB9IGZyb20gXCIuL2xvZ2dlci5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IENvcmUgPSB7XHJcbiAgZnJhc2VzOiBbXHJcbiAgICBcIkEgbWVudGUgcXVlIHNlIGFicmUgYSB1bWEgbm92YSBpZGVpYSBqYW1haXMgdm9sdGEgYW8gc2V1IHRhbWFuaG8gb3JpZ2luYWwuXCIsXHJcbiAgICBcIk8gY8OzZGlnbyDDqSBwb2VzaWEuXCIsXHJcbiAgICBcIkNhZGEgcml0dWFsIHTDqWNuaWNvIMOpIHVtIHBhc3NvIHBhcmEgYSBhdXRvbm9taWEuXCIsXHJcbiAgICBcIkEgYXJxdWl0ZXR1cmEgw6kgbyBkZXN0aW5vIGRvIHNvZnR3YXJlLlwiXHJcbiAgXSxcclxuXHJcbiAgZ2V0UmFuZG9tRnJhc2UoKSB7XHJcbiAgICBjb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5mcmFzZXMubGVuZ3RoKTtcclxuICAgIHJldHVybiB0aGlzLmZyYXNlc1tpXTtcclxuICB9LFxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3QgZnJhc2UgPSB0aGlzLmdldFJhbmRvbUZyYXNlKCk7XHJcbiAgICBsb2cuaW5mbyhgQ29yZSBpbml0aWFsaXplZCDihpIgJHtmcmFzZX1gKTtcclxuICB9XHJcbn07XHJcblxyXG4iLCJleHBvcnQgY29uc3QgRXZlbnRzID0ge1xyXG4gIGV2ZW50czoge30sXHJcblxyXG4gIG9uKGV2ZW50LCBoYW5kbGVyKSB7XHJcbiAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50XSkgdGhpcy5ldmVudHNbZXZlbnRdID0gW107XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudF0ucHVzaChoYW5kbGVyKTtcclxuICB9LFxyXG5cclxuICBlbWl0KGV2ZW50LCBkYXRhKSB7XHJcbiAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50XSkgcmV0dXJuO1xyXG4gICAgdGhpcy5ldmVudHNbZXZlbnRdLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGRhdGEpKTtcclxuICB9XHJcbn07XHJcblxyXG4iLCIvLyBtb2R1bGVzL2xvZ2dlci5qc1xyXG5cclxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xyXG4gIHJldHVybiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZyhcInB0LVBUXCIpO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbG9nID0ge1xyXG4gIGluZm8obXNnKSB7XHJcbiAgICBjb25zb2xlLmluZm8oYFtJTkZPICR7dGltZXN0YW1wKCl9XSAke21zZ31gKTtcclxuICB9LFxyXG5cclxuICB3YXJuKG1zZykge1xyXG4gICAgY29uc29sZS53YXJuKGBbV0FSTiAke3RpbWVzdGFtcCgpfV0gJHttc2d9YCk7XHJcbiAgfSxcclxuXHJcbiAgZXJyb3IobXNnKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBbRVJST1IgJHt0aW1lc3RhbXAoKX1dICR7bXNnfWApO1xyXG4gIH0sXHJcblxyXG4gIGRlYnVnKG1zZykge1xyXG4gICAgaWYgKHdpbmRvdy5lbnYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xyXG4gICAgICBjb25zb2xlLmRlYnVnKGBbREVCVUcgJHt0aW1lc3RhbXAoKX1dICR7bXNnfWApO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0IHsgVGhlbWUgfSBmcm9tIFwiLi4vdGhlbWUuanNcIjtcclxuaW1wb3J0IHsgbG9nIH0gZnJvbSBcIi4vbG9nZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdE5hdmlnYXRpb24oKSB7XHJcbiAgY29uc3QgbWVudUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1idG5cIik7XHJcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51LW5hdlwiKTtcclxuXHJcbiAgaWYgKCFtZW51QnRuIHx8ICFuYXYpIHtcclxuICAgIGxvZy53YXJuKFwiTkFWIG7Do28gZW5jb250cmFkYSBubyBET01cIik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBIYW1iw7pyZ3VlclxyXG4gIG1lbnVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIG5hdi5jbGFzc0xpc3QudG9nZ2xlKFwib3BlblwiKTtcclxuICAgIG1lbnVCdG4uY2xhc3NMaXN0LnRvZ2dsZShcIm9wZW5cIik7XHJcbiAgfSk7XHJcblxyXG4gIC8vIERyb3Bkb3duIGRlIHRlbWFzXHJcbiAgY29uc3QgdGhlbWVMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJvcGRvd24tbWVudSBhXCIpO1xyXG5cclxuICB0aGVtZUxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IHRoZW1lID0gbGluay50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgICAgIFRoZW1lLmFwcGx5KHRoZW1lKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBsb2cuaW5mbyhcIk5BViBpbmljaWFsaXphZGFcIik7XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4vbW9kdWxlcy9ldmVudHMuanNcIjtcclxuaW1wb3J0IHsgbG9nIH0gZnJvbSBcIi4vbW9kdWxlcy9sb2dnZXIuanNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBUaGVtZSA9IHtcclxuICBrZXk6IFwic2stdGhlbWVcIixcclxuXHJcbiAgZ2V0KCkge1xyXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KSB8fCBcImRhcmtcIjtcclxuICB9LFxyXG5cclxuICBhcHBseSh0aGVtZSkge1xyXG4gICAgY29uc3QgdGhlbWVzID0gW1xyXG4gICAgICBcImxpZ2h0LXRoZW1lXCIsIFwiZGFyay10aGVtZVwiLCBcInNvbGFyaXplZC10aGVtZVwiLCBcclxuICAgICAgXCJkcmFjdWxhLXRoZW1lXCIsIFwiaHlkcmEtdGhlbWVcIiwgXCJuZW9uLXRoZW1lXCJcclxuICAgIF07XHJcblxyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoLi4udGhlbWVzKTtcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKGAke3RoZW1lfS10aGVtZWApO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5rZXksIHRoZW1lKTtcclxuXHJcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVyb19kZXNjcmlwdGlvbi0tbGFzdFwiKTtcclxuICAgIGlmIChlbCkge1xyXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwiYW5pbWF0ZVwiKTtcclxuICAgICAgdm9pZCBlbC5vZmZzZXRXaWR0aDsgLy8gZm9yw6dhIHJlZmxvd1xyXG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKFwiYW5pbWF0ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBFdmVudHMuZW1pdChcInRoZW1lQ2hhbmdlZFwiLCB0aGVtZSk7XHJcbiAgICBsb2cuaW5mbyhgVGVtYSBhcGxpY2FkbzogJHt0aGVtZX1gKTtcclxuICB9LFxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3Qgc2F2ZWQgPSB0aGlzLmdldCgpO1xyXG4gICAgdGhpcy5hcHBseShzYXZlZCk7XHJcbiAgICBsb2cuaW5mbyhcIlNpc3RlbWEgZGUgdGVtYXMgaW5pY2lhbGl6YWRvXCIpO1xyXG4gIH1cclxufTtcclxuIl19"}