{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/js/main.js","assets/js/modules/core.js","assets/js/modules/events.js","assets/js/modules/logger.js","assets/js/modules/navigation.js","assets/js/theme.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","'use strict';\r\n\r\nimport { Core } from \"./modules/core.js\";\r\nimport { initNavigation } from \"./modules/navigation.js\";\r\nimport { Theme } from \"./theme.js\";\r\nimport { log } from \"./modules/logger.js\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  document.documentElement.classList.add(\"ready\");\r\n\r\n  log.info(\"Sistema iniciado\");\r\n\r\n  Core.init();\r\n  Theme.init();\r\n  initNavigation();\r\n\r\n  // ---------------------------------------------------------\r\n  // Função de scroll suave com easing\r\n  // ---------------------------------------------------------\r\n  const smoothScrollTo = (targetY, duration = 900) => {\r\n    const startY = window.scrollY;\r\n    const diff = targetY - startY;\r\n    let start;\r\n\r\n    const step = (timestamp) => {\r\n      if (!start) start = timestamp;\r\n      const time = timestamp - start;\r\n      const percent = Math.min(time / duration, 1);\r\n\r\n      // Ease-out cubic\r\n      const easing = 1 - Math.pow(1 - percent, 3);\r\n\r\n      window.scrollTo(0, startY + diff * easing);\r\n\r\n      if (time < duration) requestAnimationFrame(step);\r\n    };\r\n\r\n    requestAnimationFrame(step);\r\n  };\r\n\r\n  // ---------------------------------------------------------\r\n  // Smooth Reveal da section-home\r\n  // ---------------------------------------------------------\r\n  const exploreBtn = document.querySelector(\".hero_btn\");\r\n  const homeSection = document.querySelector(\"#home\");\r\n\r\n  if (exploreBtn && homeSection) {\r\n    exploreBtn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n\r\n      // Mostrar a secção\r\n      homeSection.classList.add(\"visible\");\r\n      exploreBtn.classList.add(\"hidden\");\r\n\r\n      // Scroll suave\r\n      const targetY = homeSection.getBoundingClientRect().top + window.scrollY;\r\n      smoothScrollTo(targetY, 2000);\r\n\r\n    });\r\n  }\r\n\r\n  log.info(\"Document ready for code injection\");\r\n});\r\n\r\n \r\n\r\n","import { log } from \"./logger.js\";\r\n\r\nexport const Core = {\r\n  frases: [\r\n    \"A mente que se abre a uma nova ideia jamais volta ao seu tamanho original.\",\r\n    \"O código é poesia.\",\r\n    \"Cada ritual técnico é um passo para a autonomia.\",\r\n    \"A arquitetura é o destino do software.\"\r\n  ],\r\n\r\n  getRandomFrase() {\r\n    const i = Math.floor(Math.random() * this.frases.length);\r\n    return this.frases[i];\r\n  },\r\n\r\n  init() {\r\n    const frase = this.getRandomFrase();\r\n    log.info(`Core initialized → ${frase}`);\r\n  }\r\n};\r\n\r\n","export const Events = {\r\n  events: {},\r\n\r\n  on(event, handler) {\r\n    if (!this.events[event]) this.events[event] = [];\r\n    this.events[event].push(handler);\r\n  },\r\n\r\n  emit(event, data) {\r\n    if (!this.events[event]) return;\r\n    this.events[event].forEach(handler => handler(data));\r\n  }\r\n};\r\n\r\n","// modules/logger.js\r\n\r\nfunction timestamp() {\r\n  return new Date().toLocaleTimeString(\"pt-PT\");\r\n}\r\n\r\nexport const log = {\r\n  info(msg) {\r\n    console.info(`[INFO ${timestamp()}] ${msg}`);\r\n  },\r\n\r\n  warn(msg) {\r\n    console.warn(`[WARN ${timestamp()}] ${msg}`);\r\n  },\r\n\r\n  error(msg) {\r\n    console.error(`[ERROR ${timestamp()}] ${msg}`);\r\n  },\r\n\r\n  debug(msg) {\r\n    if (window.env === \"development\") {\r\n      console.debug(`[DEBUG ${timestamp()}] ${msg}`);\r\n    }\r\n  }\r\n};\r\n","import { Theme } from \"../theme.js\";\r\nimport { log } from \"./logger.js\";\r\n\r\nexport function initNavigation() {\r\n  const menuBtn = document.querySelector(\".menu-btn\");\r\n  const nav = document.querySelector(\".menu-nav\");\r\n\r\n  if (!menuBtn || !nav) {\r\n    log.warn(\"NAV não encontrada no DOM\");\r\n    return;\r\n  }\r\n\r\n  // Hambúrguer\r\n  menuBtn.addEventListener(\"click\", () => {\r\n    nav.classList.toggle(\"open\");\r\n    menuBtn.classList.toggle(\"open\");\r\n  });\r\n\r\n  // Dropdown de temas\r\n  const themeLinks = document.querySelectorAll(\".dropdown-menu a\");\r\n\r\n  themeLinks.forEach(link => {\r\n    link.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      const theme = link.textContent.trim();\r\n      Theme.apply(theme);\r\n    });\r\n  });\r\n\r\n  log.info(\"NAV inicializada\");\r\n}\r\n","'use strict';\r\n\r\nimport { Events } from \"./modules/events.js\";\r\nimport { log } from \"./modules/logger.js\";\r\n\r\nexport const Theme = {\r\n  key: \"sk-theme\",\r\n\r\n  get() {\r\n    return localStorage.getItem(this.key) || \"dark\";\r\n  },\r\n\r\n  apply(theme) {\r\n    // Lista de temas disponíveis\r\n    const themes = [\r\n      \"light-theme\",\r\n      \"dark-theme\",\r\n      \"solarized-theme\",\r\n      \"dracula-theme\",\r\n      \"hydra-theme\",\r\n      \"neon-theme\"\r\n    ];\r\n\r\n    // Remover temas antigos\r\n    document.documentElement.classList.remove(...themes);\r\n\r\n    // Aplicar novo tema\r\n    document.documentElement.classList.add(`${theme}-theme`);\r\n\r\n    // Guardar no localStorage\r\n    localStorage.setItem(this.key, theme);\r\n\r\n    // Reiniciar animação da hero\r\n    const el = document.querySelector(\".hero_description--last\");\r\n    if (el) {\r\n      el.classList.remove(\"animate\");\r\n      void el.offsetWidth; // força reflow\r\n      el.classList.add(\"animate\");\r\n    }\r\n\r\n    // Emitir evento\r\n    Events.emit(\"themeChanged\", theme);\r\n\r\n    log.info(`Tema aplicado: ${theme}`);\r\n  },\r\n\r\n  init() {\r\n    const saved = this.get();\r\n    this.apply(saved);\r\n    log.info(\"Sistema de temas inicializado\");\r\n  }\r\n};\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvbWFpbi5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL2NvcmUuanMiLCJhc3NldHMvanMvbW9kdWxlcy9ldmVudHMuanMiLCJhc3NldHMvanMvbW9kdWxlcy9sb2dnZXIuanMiLCJhc3NldHMvanMvbW9kdWxlcy9uYXZpZ2F0aW9uLmpzIiwiYXNzZXRzL2pzL3RoZW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsWUFBWTs7QUFFWixJQUFBLEtBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxXQUFBLEdBQUEsT0FBQTtBQUNBLElBQUEsTUFBQSxHQUFBLE9BQUE7QUFDQSxJQUFBLE9BQUEsR0FBQSxPQUFBO0FBRUEsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLFlBQU07RUFDbEQsUUFBUSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQztFQUUvQyxXQUFHLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDO0VBRTVCLFVBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNYLFlBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNaLElBQUEsMEJBQWMsRUFBQyxDQUFDOztFQUVoQjtFQUNBO0VBQ0E7RUFDQSxJQUFNLGNBQWMsR0FBRyxTQUFqQixjQUFjLENBQUksT0FBTyxFQUFxQjtJQUFBLElBQW5CLFFBQVEsR0FBQSxTQUFBLENBQUEsTUFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLEdBQUEsU0FBQSxNQUFHLEdBQUc7SUFDN0MsSUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU87SUFDN0IsSUFBTSxJQUFJLEdBQUcsT0FBTyxHQUFHLE1BQU07SUFDN0IsSUFBSSxLQUFLO0lBRVQsSUFBTSxLQUFJLEdBQUcsU0FBUCxJQUFJLENBQUksU0FBUyxFQUFLO01BQzFCLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFH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Q0YsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCB7IENvcmUgfSBmcm9tIFwiLi9tb2R1bGVzL2NvcmUuanNcIjtcclxuaW1wb3J0IHsgaW5pdE5hdmlnYXRpb24gfSBmcm9tIFwiLi9tb2R1bGVzL25hdmlnYXRpb24uanNcIjtcclxuaW1wb3J0IHsgVGhlbWUgfSBmcm9tIFwiLi90aGVtZS5qc1wiO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tIFwiLi9tb2R1bGVzL2xvZ2dlci5qc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicmVhZHlcIik7XHJcblxyXG4gIGxvZy5pbmZvKFwiU2lzdGVtYSBpbmljaWFkb1wiKTtcclxuXHJcbiAgQ29yZS5pbml0KCk7XHJcbiAgVGhlbWUuaW5pdCgpO1xyXG4gIGluaXROYXZpZ2F0aW9uKCk7XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEZ1bsOnw6NvIGRlIHNjcm9sbCBzdWF2ZSBjb20gZWFzaW5nXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgY29uc3Qgc21vb3RoU2Nyb2xsVG8gPSAodGFyZ2V0WSwgZHVyYXRpb24gPSA5MDApID0+IHtcclxuICAgIGNvbnN0IHN0YXJ0WSA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgY29uc3QgZGlmZiA9IHRhcmdldFkgLSBzdGFydFk7XHJcbiAgICBsZXQgc3RhcnQ7XHJcblxyXG4gICAgY29uc3Qgc3RlcCA9ICh0aW1lc3RhbXApID0+IHtcclxuICAgICAgaWYgKCFzdGFydCkgc3RhcnQgPSB0aW1lc3RhbXA7XHJcbiAgICAgIGNvbnN0IHRpbWUgPSB0aW1lc3RhbXAgLSBzdGFydDtcclxuICAgICAgY29uc3QgcGVyY2VudCA9IE1hdGgubWluKHRpbWUgLyBkdXJhdGlvbiwgMSk7XHJcblxyXG4gICAgICAvLyBFYXNlLW91dCBjdWJpY1xyXG4gICAgICBjb25zdCBlYXNpbmcgPSAxIC0gTWF0aC5wb3coMSAtIHBlcmNlbnQsIDMpO1xyXG5cclxuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHN0YXJ0WSArIGRpZmYgKiBlYXNpbmcpO1xyXG5cclxuICAgICAgaWYgKHRpbWUgPCBkdXJhdGlvbikgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gU21vb3RoIFJldmVhbCBkYSBzZWN0aW9uLWhvbWVcclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBjb25zdCBleHBsb3JlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZXJvX2J0blwiKTtcclxuICBjb25zdCBob21lU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaG9tZVwiKTtcclxuXHJcbiAgaWYgKGV4cGxvcmVCdG4gJiYgaG9tZVNlY3Rpb24pIHtcclxuICAgIGV4cGxvcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIC8vIE1vc3RyYXIgYSBzZWPDp8Ojb1xyXG4gICAgICBob21lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuICAgICAgZXhwbG9yZUJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cclxuICAgICAgLy8gU2Nyb2xsIHN1YXZlXHJcbiAgICAgIGNvbnN0IHRhcmdldFkgPSBob21lU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcclxuICAgICAgc21vb3RoU2Nyb2xsVG8odGFyZ2V0WSwgMjAwMCk7XHJcblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2cuaW5mbyhcIkRvY3VtZW50IHJlYWR5IGZvciBjb2RlIGluamVjdGlvblwiKTtcclxufSk7XHJcblxyXG4gXHJcblxyXG4iLCJpbXBvcnQgeyBsb2cgfSBmcm9tIFwiLi9sb2dnZXIuanNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBDb3JlID0ge1xyXG4gIGZyYXNlczogW1xyXG4gICAgXCJBIG1lbnRlIHF1ZSBzZSBhYnJlIGEgdW1hIG5vdmEgaWRlaWEgamFtYWlzIHZvbHRhIGFvIHNldSB0YW1hbmhvIG9yaWdpbmFsLlwiLFxyXG4gICAgXCJPIGPDs2RpZ28gw6kgcG9lc2lhLlwiLFxyXG4gICAgXCJDYWRhIHJpdHVhbCB0w6ljbmljbyDDqSB1bSBwYXNzbyBwYXJhIGEgYXV0b25vbWlhLlwiLFxyXG4gICAgXCJBIGFycXVpdGV0dXJhIMOpIG8gZGVzdGlubyBkbyBzb2Z0d2FyZS5cIlxyXG4gIF0sXHJcblxyXG4gIGdldFJhbmRvbUZyYXNlKCkge1xyXG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuZnJhc2VzLmxlbmd0aCk7XHJcbiAgICByZXR1cm4gdGhpcy5mcmFzZXNbaV07XHJcbiAgfSxcclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIGNvbnN0IGZyYXNlID0gdGhpcy5nZXRSYW5kb21GcmFzZSgpO1xyXG4gICAgbG9nLmluZm8oYENvcmUgaW5pdGlhbGl6ZWQg4oaSICR7ZnJhc2V9YCk7XHJcbiAgfVxyXG59O1xyXG5cclxuIiwiZXhwb3J0IGNvbnN0IEV2ZW50cyA9IHtcclxuICBldmVudHM6IHt9LFxyXG5cclxuICBvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudF0pIHRoaXMuZXZlbnRzW2V2ZW50XSA9IFtdO1xyXG4gICAgdGhpcy5ldmVudHNbZXZlbnRdLnB1c2goaGFuZGxlcik7XHJcbiAgfSxcclxuXHJcbiAgZW1pdChldmVudCwgZGF0YSkge1xyXG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudF0pIHJldHVybjtcclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcihkYXRhKSk7XHJcbiAgfVxyXG59O1xyXG5cclxuIiwiLy8gbW9kdWxlcy9sb2dnZXIuanNcclxuXHJcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcclxuICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoXCJwdC1QVFwiKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGxvZyA9IHtcclxuICBpbmZvKG1zZykge1xyXG4gICAgY29uc29sZS5pbmZvKGBbSU5GTyAke3RpbWVzdGFtcCgpfV0gJHttc2d9YCk7XHJcbiAgfSxcclxuXHJcbiAgd2Fybihtc2cpIHtcclxuICAgIGNvbnNvbGUud2FybihgW1dBUk4gJHt0aW1lc3RhbXAoKX1dICR7bXNnfWApO1xyXG4gIH0sXHJcblxyXG4gIGVycm9yKG1zZykge1xyXG4gICAgY29uc29sZS5lcnJvcihgW0VSUk9SICR7dGltZXN0YW1wKCl9XSAke21zZ31gKTtcclxuICB9LFxyXG5cclxuICBkZWJ1Zyhtc2cpIHtcclxuICAgIGlmICh3aW5kb3cuZW52ID09PSBcImRldmVsb3BtZW50XCIpIHtcclxuICAgICAgY29uc29sZS5kZWJ1ZyhgW0RFQlVHICR7dGltZXN0YW1wKCl9XSAke21zZ31gKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcbiIsImltcG9ydCB7IFRoZW1lIH0gZnJvbSBcIi4uL3RoZW1lLmpzXCI7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gXCIuL2xvZ2dlci5qc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXROYXZpZ2F0aW9uKCkge1xyXG4gIGNvbnN0IG1lbnVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnUtYnRuXCIpO1xyXG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1uYXZcIik7XHJcblxyXG4gIGlmICghbWVudUJ0biB8fCAhbmF2KSB7XHJcbiAgICBsb2cud2FybihcIk5BViBuw6NvIGVuY29udHJhZGEgbm8gRE9NXCIpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gSGFtYsO6cmd1ZXJcclxuICBtZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShcIm9wZW5cIik7XHJcbiAgICBtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJvcGVuXCIpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBEcm9wZG93biBkZSB0ZW1hc1xyXG4gIGNvbnN0IHRoZW1lTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyb3Bkb3duLW1lbnUgYVwiKTtcclxuXHJcbiAgdGhlbWVMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xyXG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCB0aGVtZSA9IGxpbmsudGV4dENvbnRlbnQudHJpbSgpO1xyXG4gICAgICBUaGVtZS5hcHBseSh0aGVtZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgbG9nLmluZm8oXCJOQVYgaW5pY2lhbGl6YWRhXCIpO1xyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCIuL21vZHVsZXMvZXZlbnRzLmpzXCI7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gXCIuL21vZHVsZXMvbG9nZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgVGhlbWUgPSB7XHJcbiAga2V5OiBcInNrLXRoZW1lXCIsXHJcblxyXG4gIGdldCgpIHtcclxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSkgfHwgXCJkYXJrXCI7XHJcbiAgfSxcclxuXHJcbiAgYXBwbHkodGhlbWUpIHtcclxuICAgIC8vIExpc3RhIGRlIHRlbWFzIGRpc3BvbsOtdmVpc1xyXG4gICAgY29uc3QgdGhlbWVzID0gW1xyXG4gICAgICBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgIFwiZGFyay10aGVtZVwiLFxyXG4gICAgICBcInNvbGFyaXplZC10aGVtZVwiLFxyXG4gICAgICBcImRyYWN1bGEtdGhlbWVcIixcclxuICAgICAgXCJoeWRyYS10aGVtZVwiLFxyXG4gICAgICBcIm5lb24tdGhlbWVcIlxyXG4gICAgXTtcclxuXHJcbiAgICAvLyBSZW1vdmVyIHRlbWFzIGFudGlnb3NcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKC4uLnRoZW1lcyk7XHJcblxyXG4gICAgLy8gQXBsaWNhciBub3ZvIHRlbWFcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKGAke3RoZW1lfS10aGVtZWApO1xyXG5cclxuICAgIC8vIEd1YXJkYXIgbm8gbG9jYWxTdG9yYWdlXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSwgdGhlbWUpO1xyXG5cclxuICAgIC8vIFJlaW5pY2lhciBhbmltYcOnw6NvIGRhIGhlcm9cclxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZXJvX2Rlc2NyaXB0aW9uLS1sYXN0XCIpO1xyXG4gICAgaWYgKGVsKSB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRlXCIpO1xyXG4gICAgICB2b2lkIGVsLm9mZnNldFdpZHRoOyAvLyBmb3LDp2EgcmVmbG93XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoXCJhbmltYXRlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVtaXRpciBldmVudG9cclxuICAgIEV2ZW50cy5lbWl0KFwidGhlbWVDaGFuZ2VkXCIsIHRoZW1lKTtcclxuXHJcbiAgICBsb2cuaW5mbyhgVGVtYSBhcGxpY2FkbzogJHt0aGVtZX1gKTtcclxuICB9LFxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3Qgc2F2ZWQgPSB0aGlzLmdldCgpO1xyXG4gICAgdGhpcy5hcHBseShzYXZlZCk7XHJcbiAgICBsb2cuaW5mbyhcIlNpc3RlbWEgZGUgdGVtYXMgaW5pY2lhbGl6YWRvXCIpO1xyXG4gIH1cclxufTtcclxuXHJcbiJdfQ=="}